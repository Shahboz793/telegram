/* =========================================
   GLOBAL RESET
========================================= */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}
html,body{
  width:100%;
  height:100%;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

/* YASHIRISH UCHUN UNIVERSAL KLASS */
.hidden{
  display:none !important;
}

/* =========================================
   THEME COLORS
========================================= */
:root{
  --bg:#f4f5f7;
  --text:#111;
  --card:#fff;
  --panel:#fff;
  --border:#d1d5db;

  --accent:#2563eb;
  --accent-soft:#e0e7ff;

  --danger:#ef4444;
  --success:#22c55e;

  --muted:#6b7280;

  --shadow:0 8px 30px rgba(0,0,0,.08);
  --radius:14px;
}

body.theme-dark{
  --bg:#0f1117;
  --text:#f8fafc;
  --card:#1a1d25;
  --panel:#16181f;
  --border:#2d3038;

  --accent:#60a5fa;
  --accent-soft:#1e293b;

  --muted:#94a3b8;
}

/* =========================================
   SCROLL
========================================= */
::-webkit-scrollbar{
  width:4px;
}
::-webkit-scrollbar-thumb{
  background:var(--accent);
  border-radius:4px;
}

/* =========================================
   HEADER
========================================= */
.header{
  position:sticky;
  top:0;
  z-index:20;
  width:100%;
  padding:12px 16px;
  background:var(--panel);
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom:1px solid var(--border);
  box-shadow:0 2px 6px rgba(0,0,0,.04);
}
.logo{
  font-weight:700;
  font-size:20px;
}
.hdr-right{
  display:flex;
  gap:10px;
}
.hdr-btn,
.cart-btn{
  padding:8px 12px;
  font-size:18px;
  border:none;
  background:var(--accent-soft);
  color:var(--text);
  border-radius:var(--radius);
  cursor:pointer;
}
.cart-btn span{
  font-weight:600;
}

/* =========================================
   FILTER BAR
========================================= */
.filter-bar{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  padding:12px;
  background:var(--panel);
  border-bottom:1px solid var(--border);
}
.chip{
  padding:8px 14px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:20px;
  cursor:pointer;
  font-size:15px;
}
.chip.active{
  background:var(--accent);
  color:#fff;
  border-color:var(--accent);
}

/* =========================================
   SEARCH
========================================= */
.search-wrap{
  padding:12px;
  background:var(--panel);
}
.search-input{
  width:100%;
  padding:12px 15px;
  font-size:16px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
}

/* =========================================
   PRODUCTS GRID
========================================= */
.products-grid{
  padding:14px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:16px;
}
.product-card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  transition:.2s;
}
.product-card:hover{
  transform:translateY(-4px);
}

/* IMAGE BOX */
.product-img-wrap{
  width:100%;
  position:relative;
  aspect-ratio:1/1.05;
  overflow:hidden;
}
.product-img-wrap img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.product-sale{
  position:absolute;
  top:8px;
  right:8px;
  background:#ef4444;
  color:#fff;
  font-size:13px;
  padding:4px 8px;
  border-radius:20px;
}

/* BODY */
.product-body{
  padding:10px 12px 14px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.product-name{
  font-size:15px;
  font-weight:600;
}
.product-meta{
  font-size:13px;
  color:var(--muted);
}
.tag-mini{
  background:var(--accent-soft);
  padding:4px 8px;
  border-radius:10px;
  font-size:12px;
  width:max-content;
}
.price-row{
  margin-top:4px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.price-main{
  font-size:16px;
  font-weight:700;
}
.price-old{
  font-size:13px;
  color:var(--muted);
  text-decoration:line-through;
}
.btn-add{
  padding:5px 10px;
  font-size:14px;
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

/* =========================================
   CART SHEET (BOTTOM PANEL)
========================================= */
.sheet-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(2px);
  opacity:0;
  pointer-events:none;
  transition:.25s;
  z-index:40;
}
.sheet-overlay.show{
  opacity:1;
  pointer-events:auto;
}

.cart-sheet{
  position:fixed;
  left:0;
  right:0;
  bottom:-100%;
  background:var(--panel);
  border-radius:20px 20px 0 0;
  box-shadow:0 -4px 20px rgba(0,0,0,.18);
  z-index:45;
  max-height:80vh;
  overflow-y:auto;
  transition:.35s;
}
.cart-sheet.open{
  bottom:0;
}

.sheet-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid var(--border);
}
.sheet-title{
  font-size:18px;
  font-weight:700;
}
.sheet-close{
  font-size:20px;
  border:none;
  background:none;
  cursor:pointer;
  color:var(--text);
}

.cart-items{
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.cart-empty{
  padding:16px;
  text-align:center;
  color:var(--muted);
}

.cart-item-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--card);
  padding:10px 12px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

.cart-item-main{
  display:flex;
  flex-direction:column;
}
.cart-item-name{
  font-size:15px;
  font-weight:600;
}
.cart-item-meta{
  font-size:13px;
  color:var(--muted);
}

.cart-item-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.qty-control{
  display:flex;
  align-items:center;
  gap:6px;
}
.qty-control button{
  width:26px;
  height:26px;
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}
.cart-item-total{
  font-weight:600;
}
.cart-remove{
  border:none;
  background:var(--danger);
  color:#fff;
  padding:4px 8px;
  border-radius:6px;
  cursor:pointer;
}

.sheet-footer{
  padding:16px;
  border-top:1px solid var(--border);
  background:var(--panel);
  position:sticky;
  bottom:0;
}
.total-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:16px;
  font-weight:600;
  margin-bottom:12px;
}
.btn-primary{
  width:100%;
  padding:12px;
  background:var(--accent);
  border:none;
  color:#fff;
  font-size:16px;
  border-radius:var(--radius);
  cursor:pointer;
  font-weight:600;
}

/* =========================================
   PRODUCT DETAIL OVERLAY
========================================= */
.detail-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(2px);
  z-index:50;
  padding:20px;
  overflow-y:auto;
}
.detail-card{
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  animation:pop .25s ease;
}
@keyframes pop{
  from{transform:scale(.92);opacity:.3;}
  to{transform:scale(1);opacity:1;}
}

.detail-img-box{
  position:relative;
  width:100%;
  aspect-ratio:1/1.1;
  overflow:hidden;
}
.detail-img-box img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.nav-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:10px;
  background:rgba(0,0,0,.45);
  color:#fff;
  border:none;
  border-radius:50%;
  cursor:pointer;
  font-size:20px;
}
.nav-btn.left{ left:8px; }
.nav-btn.right{ right:8px; }

.img-index{
  position:absolute;
  right:10px;
  bottom:10px;
  background:rgba(0,0,0,.55);
  color:#fff;
  padding:4px 8px;
  border-radius:8px;
  font-size:13px;
}

.detail-body{
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.detail-category{
  font-size:14px;
  color:var(--muted);
}
.detail-name{
  font-size:20px;
  font-weight:700;
}
.detail-tag{
  font-size:14px;
  background:var(--accent-soft);
  width:max-content;
  padding:4px 10px;
  border-radius:8px;
}
.detail-desc{
  font-size:15px;
  color:var(--muted);
  line-height:1.45;
}

.detail-prices{
  display:flex;
  align-items:center;
  gap:10px;
}
.price-main{
  font-size:20px;
  font-weight:700;
}
.price-old{
  font-size:15px;
  text-decoration:line-through;
  color:var(--muted);
}

.qty-box{
  display:flex;
  align-items:center;
  gap:12px;
  margin-top:6px;
}
.qty-btn{
  width:32px;
  height:32px;
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:20px;
  cursor:pointer;
}
.qty-val{
  font-size:18px;
  font-weight:600;
}

.detail-add-btn{
  margin-top:10px;
}
.detail-add-btn.added{
  background:var(--success);
}

.btn-back{
  margin-top:8px;
  width:100%;
  padding:10px;
  background:var(--accent-soft);
  border:none;
  border-radius:var(--radius);
  font-size:15px;
  cursor:pointer;
}

/* =========================================
   TOAST
========================================= */
.toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%) translateY(80px);
  background:var(--panel);
  color:var(--text);
  border:1px solid var(--border);
  padding:10px 16px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  opacity:0;
  transition:.3s;
  z-index:99;
}
.toast.show{
  transform:translateX(-50%) translateY(0);
  opacity:1;
}

/* =========================================
   ADMIN PANEL
========================================= */
#adminPage{
  padding:16px;
}

.admin-access-btn{
  width:100%;
  padding:12px;
  background:var(--accent);
  color:#fff;
  font-size:16px;
  font-weight:600;
  border:none;
  border-radius:var(--radius);
  margin-bottom:16px;
  cursor:pointer;
}

.admin-subtitle{
  font-size:18px;
  font-weight:700;
  margin-top:20px;
  margin-bottom:10px;
}

.admin-form{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-bottom:20px;
}

.admin-form input,
.admin-form textarea,
.admin-form select{
  width:100%;
  padding:12px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  font-size:15px;
  color:var(--text);
}

.admin-form textarea{
  min-height:70px;
  resize:vertical;
}

.check-row{
  display:flex;
  gap:8px;
  align-items:center;
  padding:4px 0;
}

#adminCategoryList,
#adminOrdersList{
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* =========================================
   ORDER CARDS (ADMIN + CUSTOMER)
========================================= */
.order-card{
  background:var(--card);
  border-radius:var(--radius);
  padding:14px;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:10px;
  border-left:6px solid var(--accent);
}

.order-card.admin-order{
  border-left:none;
  border-top:3px solid var(--accent);
}

.order-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:16px;
  font-weight:600;
}

.order-customer{
  font-size:14px;
  color:var(--muted);
  line-height:1.4;
}

.order-items{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:4px;
}
.order-item,
.admin-item-row{
  display:flex;
  justify-content:space-between;
  font-size:14px;
}

.order-actions{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* =========================================
   ORDER STATUS COLORS
========================================= */
.order-status{
  padding:8px 12px;
  border-radius:10px;
  font-size:14px;
  font-weight:600;
  width:max-content;
}

.status-pending{
  background:#fcd34d33;
  color:#b45309;
  border:1px solid #fcd34d66;
}

.status-confirmed{
  background:#4ade8033;
  color:#166534;
  border:1px solid #4ade8066;
}

.status-courier{
  background:#60a5fa33;
  color:#1d4ed8;
  border:1px solid #60a5fa66;
}

.status-delivered{
  background:#f472b633;
  color:#9d174d;
  border:1px solid #f472b666;
}

.status-rejected{
  background:#ef444433;
  color:#b91c1c;
  border:1px solid #ef444466;
}

.order-completed{
  opacity:.65;
}
.order-completed-text{
  color:var(--muted);
  font-size:14px;
  margin-top:6px;
}

/* =========================================
   ADMIN BUTTONS (STATUS CONTROLS)
========================================= */
.btn-ok{
  width:100%;
  padding:10px;
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:var(--radius);
  font-size:15px;
  font-weight:600;
  cursor:pointer;
}
.btn-reject{
  width:100%;
  padding:10px;
  background:var(--danger);
  color:#fff;
  border:none;
  border-radius:var(--radius);
  font-size:15px;
  font-weight:600;
  cursor:pointer;
}
.btn-delivered{
  width:100%;
  padding:10px;
  background:var(--success);
  color:#fff;
  border:none;
  border-radius:var(--radius);
  font-size:15px;
  cursor:pointer;
}

.wait-text{
  color:var(--muted);
  font-size:14px;
  text-align:center;
}
.done-text{
  color:var(--success);
  font-size:15px;
  text-align:center;
  font-weight:600;
}
.reject-text{
  color:var(--danger);
  font-size:15px;
  text-align:center;
  font-weight:600;
}

/* =========================================
   CUSTOMER ORDERS PAGE
========================================= */
.page-title{
  font-size:22px;
  font-weight:700;
  padding:16px;
}

#customerOrdersList{
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.empty-info{
  text-align:center;
  padding:20px;
  color:var(--muted);
  font-size:15px;
}

/* =========================================
   RESPONSIVE + TELEGRAM WEBAPP
========================================= */

body{
  padding-bottom:env(safe-area-inset-bottom);
}

/* Small phones */
@media (max-width:380px){
  .products-grid{
    grid-template-columns:repeat(auto-fill,minmax(145px,1fr));
  }
  .product-name{ font-size:14px; }
  .detail-name{ font-size:18px; }
  .price-main{ font-size:18px; }
}

/* Medium phones */
@media (max-width:600px){
  .header{ padding:10px 14px; }
  .sheet-footer{ padding:12px; }
  .btn-primary{ padding:10px; font-size:15px; }
  .detail-body{ padding:14px; }
  .nav-btn{ padding:8px; }
}

/* Tablets */
@media (min-width:768px){
  body{
    max-width:520px;
    margin:0 auto;
    background:#0001;
  }
  .header{
    border-radius:0 0 12px 12px;
    margin-bottom:8px;
  }
  .products-grid{
    grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  }
  .cart-sheet{
    max-width:520px;
    margin:0 auto;
  }
  .detail-card{
    max-width:480px;
    margin:0 auto;
  }
}

/* Large desktop */
@media (min-width:1024px){
  body{ max-width:600px; }
  .products-grid{
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
  }
  .detail-card{
    max-width:540px;
  }
}

/* BOTTOM NAVIGATION */
.tabs{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:var(--panel);
  border-top:1px solid var(--border);
  display:flex;
  z-index:50;
}
.tab-btn{
  flex:1;
  padding:12px 4px;
  border:none;
  background:none;
  font-size:15px;
  cursor:pointer;
  color:var(--muted);
}
.tab-btn.active{
  color:var(--accent);
  font-weight:700;
}

/* PAGE CONTAINER */
.page{
  min-height:calc(100vh - 120px);
}

/* DETAIL OVERLAY RESPONSIVE */
.detail-card{
  margin-top:50px;
}
@media(max-width:480px){
  .detail-img-box{ aspect-ratio:1/1.2; }
  .detail-card{ margin-top:30px; }
}

/* ADMIN RESPONSIVE */
#adminPage{
  padding-bottom:80px;
}
.admin-form input,
.admin-form textarea,
.admin-form select{
  font-size:14px;
}
#adminOrdersList .order-card{
  padding:12px;
}

.order-head{ font-size:15px; }
.order-customer{ font-size:13px; }

.btn-ok,
.btn-reject,
.btn-delivered{
  padding:9px;
  font-size:14px;
}

/* STATUS BADGE RESPONSIVE */
.order-status{
  font-size:13px;
  padding:6px 10px;
}

.order-completed{
  opacity:.55;
  filter:grayscale(.3);
}
