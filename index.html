<!doctype html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>Ona tili Pro — LMS Platforma</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="style.css" />

  <!-- FIREBASE -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

  <!-- YouTube API -->
  <script src="https://www.youtube.com/iframe_api"></script>

  <!-- PDF JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.0/jspdf.plugin.autotable.min.js"></script>
</head>

<body>
<div id="app">

  <!-- ================= HEADER ================= -->
  <header class="header">
    <div class="logo">Ona tili <span>Pro</span></div>

    <nav class="nav">
      <a id="nav-home">Bosh sahifa</a>
      <a id="nav-admin" class="hidden">Admin</a>

      <button id="open-auth" class="btn-primary-small">Kirish</button>
      <button id="logout-btn" class="btn-primary-small hidden">Chiqish</button>
    </nav>
  </header>

  <!-- ================= SPLASH LOGIN SCREEN ================= -->
  <div id="splash-screen" class="splash hidden">
    <div class="splash-box">
      <h1 class="splash-title">Xush kelibsiz!</h1>
      <p class="splash-sub">Tizimga muvaffaqiyatli kirdingiz</p>
      <div class="loader"></div>
      <small>5 soniya ichida asosiy sahifaga yo‘naltirilasiz...</small>
    </div>
  </div>

  <!-- ================= AUTH MODAL ================= -->
  <div id="auth-modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="tabs">
        <button class="tab active" data-tab="login-box">Kirish</button>
        <button class="tab" data-tab="register-box">Ro‘yxatdan o‘tish</button>
      </div>

      <!-- LOGIN -->
      <div id="login-box" class="tab-pane">
        <h2>Kirish</h2>
        <div class="form">
          <input id="login-user" placeholder="Login">
          <input id="login-pass" type="password" placeholder="Parol">
          <div id="login-error" class="error"></div>
          <button id="login-btn" class="btn-primary">Kirish</button>
        </div>
      </div>

      <!-- REGISTER -->
      <div id="register-box" class="tab-pane hidden">
        <h2>Ro‘yxatdan o‘tish</h2>
        <div class="form">
          <input id="reg-user" placeholder="Login">
          <input id="reg-pass" type="password" placeholder="Parol">
          <input id="reg-pass2" type="password" placeholder="Parolni takrorlang">
          <div id="register-error" class="error"></div>
          <button id="register-btn" class="btn-primary">Ro‘yxatdan o‘tish</button>
        </div>
      </div>

      <button id="close-auth" class="modal-close">✕</button>
    </div>
  </div>

  <!-- ================= HOME (KURSLAR REKLAMA) ================= -->
  <main id="home-page" class="page">
    <section class="hero">
      <h1>Ona tili Pro — Onlayn o‘quv markazi</h1>
      <p>Yuqori sifatli darslar, testlar va video kurslar — barchasi bitta platformada.</p>
    </section>

    <h2 class="section-title">Mavjud kurslar</h2>
    <div id="course-list" class="course-grid"></div>

    <div id="home-empty" class="empty">Hozircha kurslar qo‘shilmagan.</div>
  </main>

  <!-- ================= ADMIN PANEL ================= -->
  <main id="admin-page" class="page hidden">
    <h2>Admin panel</h2>

    <div class="card">
      <h3>Yangi kurs qo‘shish</h3>
      <div class="form">
        <input id="course-title" placeholder="Kurs nomi">
        <textarea id="course-desc" placeholder="Tavsifi"></textarea>
        <input id="course-price" type="number" placeholder="Narx (0 = bepul)">
        <button id="add-course-btn" class="btn-primary">Kurs qo‘shish</button>
        <div id="course-error" class="error"></div>
      </div>
    </div>

    <h3 class="section-title">Kurslar</h3>
    <div id="admin-course-list"></div>
  </main>

  <!-- ================= COURSE DETAIL (LESSONS) ================= -->
  <main id="course-detail-page" class="page hidden">
    <button id="back-home" class="btn-secondary-small">← Orqaga</button>

    <h2 id="course-detail-title"></h2>
    <p id="course-detail-desc"></p>

    <h3>Darslar ro‘yxati</h3>
    <div id="lesson-list"></div>

    <div class="empty" id="lesson-empty">Hozircha darslar yo‘q.</div>
  </main>

  <!-- ================= LESSON PAGE ================= -->
  <main id="lesson-page" class="page hidden">
    <button id="back-course" class="btn-secondary-small">← Darslarga qaytish</button>

    <h2 id="lesson-title"></h2>

    <div id="video-box" class="video-box">
      <div id="yt-player"></div>
    </div>

    <div class="progress-text" id="video-progress-text">0%</div>
    <div class="progress-bar"><div class="progress" id="video-progress"></div></div>

    <button id="open-quiz-btn" class="btn-primary hidden">Quizni boshlash</button>
  </main>

  <!-- ================= QUIZ FULLSCREEN ================= -->
  <div id="quiz-overlay" class="quiz-overlay hidden">
    <div class="quiz-box" id="quiz-box"></div>
  </div>

</div>

<script src="app.js"></script>
</body>
</html>
