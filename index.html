<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="dark light">
  <title>Premium Beauty Store</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css">
</head>

<body data-theme="dark">

  <!-- HEADER -->
  <header class="header">
    <div class="header-left">
      <h1 class="logo">Beauty Pro</h1>
    </div>

    <div class="header-right">
      <button id="themeToggleBtn" class="theme-btn">ğŸŒ™</button>

      <div class="cart-top" onclick="toggleCartSheet(true)">
        ğŸ›’ <span id="cartCountTop">0</span>
        <small id="cartTotalTop">0 soâ€˜m</small>
      </div>
    </div>
  </header>

  <!-- FILTER BAR -->
  <div id="filterBar" class="filter-bar"></div>

  <!-- SEARCH -->
  <div class="search-box">
    <input type="text" id="searchInput" placeholder="Qidirish...">
  </div>

  <!-- =============== SHOP PAGE =============== -->
  <div id="shopPage" class="page">
    <div class="products-grid" id="productsGrid"></div>
  </div>

  <!-- =============== CUSTOMER ORDERS PAGE =============== -->
  <div id="customerOrdersPage" class="page hidden">
    <h2 class="page-title">Buyurtmalarim</h2>
    <!-- app.js dagi ordersListEl bilan moslashtirildi -->
    <div id="ordersList"></div>
  </div>

  <!-- =============== ADMIN PAGE =============== -->
  <div id="adminPage" class="page hidden">

    <button id="adminAccessBtn" class="admin-access-btn">ğŸ‘‘ Admin uchun</button>

    <h2 class="admin-subtitle">Mahsulot qoâ€˜shish</h2>
    <div class="admin-form">
      <input id="adminName" placeholder="Mahsulot nomi">
      <select id="adminCategory"></select>

      <input id="adminPriceBase" type="number" placeholder="Narx (asosiy)">
      
      <div class="check-row">
        <input id="adminHasDiscount" type="checkbox">
        <label>Chegirma bor</label>
      </div>

      <input id="adminPriceDiscount" type="number" placeholder="Chegirma narxi (ixtiyoriy)">
      <input id="adminTag" placeholder="Teg (ixtiyoriy)">
      <textarea id="adminDescription" placeholder="Mahsulot tavsifi"></textarea>

      <input id="adminImages" placeholder="Rasmlar (a.png, b.jpg)">
      
      <button class="admin-btn" onclick="addCustomProduct()">â• Mahsulotni qoâ€˜shish</button>
    </div>

    <h2 class="admin-subtitle">Kategoriyalar</h2>

    <div class="admin-form">
      <input id="adminCatCode" placeholder="Kategoriya kodi (mas: pomada)">
      <input id="adminCatLabel" placeholder="Kategoriya nomi">
      <input id="adminCatEmoji" placeholder="Emoji (ğŸ’„)">
      <button onclick="saveCategory()">Kategoriya saqlash</button>
    </div>

    <div id="adminCategoryList"></div>

    <h2 class="admin-subtitle">Mahsulotlar</h2>
    <div id="adminCustomList"></div>

    <h2 class="admin-subtitle">Kelayotgan buyurtmalar</h2>
    <div id="adminOrdersList"></div>

  </div>

  <!-- =============== CART SHEET (BOTTOM PANEL) =============== -->
  <div id="cartSheetOverlay" class="sheet-overlay" onclick="toggleCartSheet(false)"></div>

  <div id="cartSheet" class="cart-sheet">
    <div class="sheet-header">
      <div class="sheet-title">Savat</div>
      <button class="sheet-close" onclick="toggleCartSheet(false)">âœ•</button>
    </div>

    <div id="cartItems" class="cart-items"></div>

    <div class="sheet-footer">
      <div class="total-row">
        <span>Jami:</span>
        <strong id="cartSheetTotal">0 soâ€˜m</strong>
      </div>
      <button class="btn-primary" onclick="sendOrder()">Buyurtma berish</button>
    </div>
  </div>

  <!-- =============== PRODUCT DETAIL VIEW =============== -->
  <div id="productDetailOverlay" class="detail-overlay hidden">
    <div class="detail-card">
      <div class="detail-img-box">
        <img id="detailImage" src="">
        <button id="detailPrevBtn" class="nav-btn left">â€¹</button>
        <button id="detailNextBtn" class="nav-btn right">â€º</button>
        <div id="detailImageIndex" class="img-index"></div>
      </div>

      <div class="detail-body">
        <div id="detailCategory" class="detail-category"></div>
        <div id="detailName" class="detail-name"></div>
        <div id="detailTag" class="detail-tag"></div>
        <div id="detailDesc" class="detail-desc"></div>

        <div class="detail-prices">
          <div id="detailPrice" class="price-main"></div>
          <div id="detailOldPrice" class="price-old hidden"></div>
        </div>

        <div class="qty-box">
          <button id="detailQtyMinus" class="qty-btn">âˆ’</button>
          <div id="detailQtyValue" class="qty-val">1</div>
          <button id="detailQtyPlus" class="qty-btn">+</button>
        </div>

        <button id="detailAddBtn" class="btn-primary detail-add-btn">ğŸ›’ Savatga qoâ€˜shish</button>

        <button id="detailBackBtn" class="btn-back hidden">â—€ Magaziniga qaytish</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- BOTTOM TABS -->
  <div id="tabs" class="tabs">
    <button class="tab-btn active" data-page="shopPage">ğŸª Magazin</button>
    <button class="tab-btn" data-page="customerOrdersPage">ğŸ“¦ Buyurtmalarim</button>
    <button id="adminTabBtn" class="tab-btn hidden" data-page="adminPage">ğŸ‘‘ Admin</button>
  </div>

  <!-- JAVASCRIPT -->
  <script type="module" src="./app.js"></script>
</body>
</html>
