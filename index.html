<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>Beauty Store ‚Äî Kosmetika do‚Äòkoni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- GOOGLE FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:'Poppins',sans-serif;
      background:#f5f5f5;
      color:#111;
      overflow-x:hidden;
    }
    body.theme-dark{
      background:#0a0a0a;
      color:#e5e5e5;
    }
    .hidden{display:none!important;}
    .page{padding-bottom:90px;}

    /* HEADER */
    header{
      background:#fff;
      padding:12px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      box-shadow:0 1px 3px rgba(0,0,0,0.1);
      position:sticky;
      top:0;
      z-index:10;
    }
    body.theme-dark header{
      background:#141414;
      color:#fff;
    }

    #themeToggleBtn{
      font-size:24px;
      background:none;
      border:none;
      cursor:pointer;
    }

    #customerInfoText{
      font-size:13px;
      opacity:0.7;
      margin-top:4px;
    }

    /* FILTER BAR */
    #filterBar{
      padding:10px;
      white-space:nowrap;
      overflow-x:auto;
      display:flex;
      gap:8px;
    }
    .chip{
      padding:6px 12px;
      background:#eee;
      border-radius:16px;
      cursor:pointer;
      font-size:14px;
      border:1px solid transparent;
    }
    .chip.active{
      background:#ff3e92;
      color:#fff;
    }

    /* GRID */
    #productsGrid{
      padding:12px;
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(155px,1fr));
      gap:12px;
    }
    .product-card{
      background:#fff;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 2px 5px rgba(0,0,0,0.08);
      cursor:pointer;
    }
    body.theme-dark .product-card{
      background:#161616;
    }
    .product-img-wrap img{
      width:100%;
      height:150px;
      object-fit:cover;
      display:block;
    }
    .product-name{
      font-size:14px;
      font-weight:600;
      margin-bottom:4px;
    }
    .product-body{
      padding:10px;
    }
    .product-meta{
      font-size:12px;
      opacity:0.7;
      margin-bottom:6px;
    }
    .price-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .btn-add{
      padding:4px 10px;
      border-radius:8px;
      border:none;
      background:#ff3e92;
      color:#fff;
      cursor:pointer;
      font-size:13px;
    }

    /* CART TOP */
    .cart-top{
      position:fixed;
      bottom:0;
      left:0;
      width:100%;
      background:#ff3e92;
      color:#fff;
      padding:14px;
      display:flex;
      justify-content:space-between;
      font-size:16px;
      z-index:99;
      cursor:pointer;
    }

    /* CART SHEET */
    #cartSheet{
      position:fixed;
      bottom:-110%;
      left:0;right:0;
      background:#fff;
      border-radius:22px 22px 0 0;
      box-shadow:0 -3px 8px rgba(0,0,0,0.2);
      padding:16px;
      height:65%;
      overflow-y:auto;
      transition:0.33s;
      z-index:999;
    }
    #cartSheet.open{
      bottom:0;
    }
    #cartSheetOverlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.35);
      display:none;
      z-index:998;
    }
    #cartSheetOverlay.show{
      display:block;
    }

    /* DETAIL POPUP */
    #productDetailOverlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.55);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:16px;
      z-index:9999;
    }
    #productDetailOverlay.hidden{
      display:none;
    }
    .detail-card{
      background:#fff;
      width:100%;
      max-width:420px;
      border-radius:16px;
      overflow:hidden;
      padding-bottom:16px;
    }
    body.theme-dark .detail-card{
      background:#1b1b1b;
      color:#eee;
    }
    .detail-img-box img{
      width:100%;
      height:240px;
      object-fit:cover;
    }
    .detail-body{
      padding:14px;
    }
    #detailAddBtn{
      margin-top:12px;
      width:100%;
      padding:12px;
      border-radius:10px;
      border:none;
      background:#ff3e92;
      color:#fff;
      font-size:16px;
    }
    #detailBackBtn{
      width:100%;
      margin-top:10px;
      padding:10px;
      background:#ddd;
      border:none;
      border-radius:10px;
      font-size:14px;
      cursor:pointer;
    }

    /* TABS */
    #tabs{
      display:flex;
      border-top:1px solid #ddd;
    }
    .tab-btn{
      flex:1;
      text-align:center;
      padding:12px;
      background:#fff;
      border-right:1px solid #eee;
      cursor:pointer;
    }
    .tab-btn.active{
      background:#ff3e92;
      color:#fff;
    }

    /* ADMIN */
    #adminPage{
      padding:16px;
    }
    .admin-btn{
      width:100%;
      padding:12px;
      background:#111;
      color:#fff;
      border-radius:10px;
      margin-top:10px;
      cursor:pointer;
      border:none;
    }
    .admin-product-row{
      background:#f2f2f2;
      padding:10px;
      border-radius:8px;
      margin-bottom:6px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div>
      <strong>Beauty Store</strong>
      <div id="customerInfoText"></div>
    </div>
    <button id="themeToggleBtn">üåô</button>
  </header>

  <!-- SEARCH -->
  <div style="padding:10px;">
    <input id="searchInput" type="text" placeholder="Qidirish..." 
           style="width:100%;padding:10px;border-radius:12px;border:1px solid #ccc;">
  </div>

  <!-- FILTER -->
  <div id="filterBar"></div>

  <!-- SHOP PAGE -->
  <div id="shopPage" class="page">
    <div id="productsGrid"></div>
  </div>

  <!-- HISTORY PAGE -->
  <div id="historyPage" class="page hidden">
    <h3 style="padding:12px;">üìú Buyurtmalar tarixi</h3>
    <div id="historyList" style="padding:12px;"></div>
  </div>

  <!-- ADMIN PAGE -->
  <div id="adminPage" class="page hidden">
    <h3>üëë Admin panel</h3>

    <h4>Mahsulot qo‚Äòshish</h4>
    <input id="adminName" placeholder="Nomi" style="width:100%;padding:8px;margin-bottom:6px;">
    <select id="adminCategory" style="width:100%;padding:8px;margin-bottom:6px;"></select>
    <input id="adminPriceBase" placeholder="Asl narx" type="number" style="width:100%;padding:8px;margin-bottom:6px;">
    <label><input type="checkbox" id="adminHasDiscount"> Chegirma</label>
    <input id="adminPriceDiscount" placeholder="Chegirma narx" type="number" style="width:100%;padding:8px;margin-bottom:6px;">
    <input id="adminTag" placeholder="Tag" style="width:100%;padding:8px;margin-bottom:6px;">
    <textarea id="adminDescription" placeholder="Tavsif" style="width:100%;padding:8px;margin-bottom:6px;"></textarea>
    <input id="adminImages" placeholder="Rasmlar (vergul bilan)" style="width:100%;padding:8px;margin-bottom:10px;">

    <button class="admin-btn" onclick="addCustomProduct()">‚ûï Mahsulotni qo‚Äòshish</button>

    <h4 style="margin-top:20px;">Mahsulotlar</h4>
    <div id="adminCustomList"></div>

    <h4 style="margin-top:20px;">Kategoriyalar</h4>
    <input id="adminCatCode" placeholder="kod (masalan: pomada)" style="width:100%;padding:8px;margin-bottom:6px;">
    <input id="adminCatLabel" placeholder="nomi" style="width:100%;padding:8px;margin-bottom:6px;">
    <input id="adminCatEmoji" placeholder="emoji (üíÑ)" style="width:100%;padding:8px;margin-bottom:6px;">
    <button class="admin-btn" onclick="saveCategory()">‚ûï Kategoriya</button>

    <div id="adminCategoryList" style="margin-top:12px;"></div>
  </div>

  <!-- CART TOP -->
  <div class="cart-top" onclick="toggleCartSheet(true)">
    <span>üß∫ Savat: <span id="cartCountTop">0</span></span>
    <span id="cartTotalTop">0 so‚Äòm</span>
  </div>

  <!-- CART SHEET -->
  <div id="cartSheet">
    <h3>Savat</h3>
    <div id="cartItems" style="margin-top:12px;"></div>
    <h3 style="margin-top:10px;">Jami: <span id="cartSheetTotal">0 so‚Äòm</span></h3>

    <button onclick="sendOrder()" style="width:100%;padding:12px;margin-top:12px;background:#ff3e92;color:#fff;border:none;border-radius:10px;">
      ‚ñ∂Ô∏è Buyurtma berish
    </button>
  </div>
  <div id="cartSheetOverlay" onclick="toggleCartSheet(false)"></div>

  <!-- DETAIL POPUP -->
  <div id="productDetailOverlay" class="hidden">
    <div class="detail-card">
      <div class="detail-img-box">
        <img id="detailImage">
      </div>
      <div class="detail-body">
        <div id="detailCategory"></div>
        <h2 id="detailName"></h2>
        <div id="detailTag" style="margin-top:4px;font-size:13px;opacity:0.7;"></div>
        <p id="detailDesc" style="margin-top:10px;"></p>

        <div style="margin-top:10px;">
          <span id="detailPrice" style="font-size:20px;font-weight:700;"></span>
          <span id="detailOldPrice" style="font-size:14px;text-decoration:line-through;margin-left:8px;color:red;"></span>
        </div>

        <!-- ADD TO CART -->
        <button id="detailAddBtn">üõí Savatga qo‚Äòshish</button>
        <button id="detailBackBtn" class="hidden">‚óÄ Magaziniga qaytish</button>
      </div>
    </div>
  </div>

  <!-- TABS -->
  <div id="tabs">
    <div class="tab-btn active" data-page="shopPage">üè™ Do‚Äòkon</div>
    <div class="tab-btn" data-page="historyPage">üìú Tarix</div>
    <div class="tab-btn hidden" id="adminTabBtn" data-page="adminPage">üëë Admin</div>
    <div class="tab-btn" id="admin

Oops, kesildi. Quyida to‚Äòliq davomini beradi:

```html
    <div class="tab-btn" id="adminAccessBtn">üëë Admin uchun</div>
  </div>

  <!-- TOAST -->
  <div id="toast" style="
      position:fixed;bottom:95px;left:50%;transform:translateX(-50%);
      background:#111;color:#fff;padding:10px 18px;border-radius:10px;
      font-size:14px;opacity:0;transition:0.3s;z-index:99999;">
  </div>

  <!-- APP JS -->
  <script type="module" src="app.js"></script>

</body>
</html>
