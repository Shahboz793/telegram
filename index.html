<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Beauty Store â€” Premium WebApp</title>

  <!-- GOOGLE FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css" />
</head>

<body data-theme="dark">

<!-- =========================== HEADER =========================== -->
<header class="topbar">
  <div class="logo">ğŸŒ¸ Beauty Store</div>

  <div class="top-actions">
    <button id="themeToggleBtn">ğŸŒ™</button>
    <button id="adminAccessBtn" class="admin-btn-small">ğŸ‘‘ Admin uchun</button>

    <div class="cart-info" onclick="toggleCartSheet(true)">
      <span id="cartCountTop">0</span>
      <span id="cartTotalTop">0 soâ€˜m</span>
    </div>
  </div>
</header>

<!-- =========================== TABS =========================== -->
<nav id="tabs" class="tabs">
  <button class="tab-btn active" data-page="shopPage">ğŸ› Doâ€˜kon</button>
  <button class="tab-btn" data-page="ordersPage">ğŸ“¦ Buyurtmalarim</button>
  <button class="tab-btn hidden" id="adminTabBtn" data-page="adminPage">ğŸ‘‘ Admin</button>
</nav>

<!-- =========================== SHOP PAGE =========================== -->
<main id="shopPage">

  <!-- SEARCH BAR -->
  <div class="search-row">
    <input id="searchInput" type="text" placeholder="Qidirish..."/>
  </div>

  <!-- CATEGORY FILTER -->
  <div id="filterBar" class="filter-bar"></div>

  <!-- CUSTOMER INFO TEXT -->
  <div id="customerInfoText" class="customer-info-text"></div>

  <!-- PRODUCTS GRID -->
  <div id="productsGrid" class="products-grid"></div>

  <!-- QUICK ORDER -->
  <button id="quickOrderBtn" class="quick-order hidden" onclick="toggleCartSheet(true)">
    ğŸ›’ Savatni koâ€˜rish
  </button>

</main>

<!-- =========================== ORDERS PAGE =========================== -->
<main id="ordersPage" class="hidden">
  <h2 class="page-title">ğŸ“¦ Buyurtmalarim</h2>
  <div id="clientOrdersList"></div>
</main>

<!-- =========================== ADMIN PAGE =========================== -->
<main id="adminPage" class="hidden">
  <h2 class="page-title">ğŸ‘‘ Admin Panel</h2>

  <!-- ADMIN: PRODUCTS -->
  <section class="admin-section">
    <h3>â• Mahsulot qoâ€˜shish / tahrirlash</h3>

    <div class="form">
      <input id="adminName" type="text" placeholder="Mahsulot nomi"/>
      <select id="adminCategory"></select>

      <input id="adminPriceBase" type="number" placeholder="Asosiy narx"/>
      <label class="check-inline">
        <input type="checkbox" id="adminHasDiscount"/>
        Chegirma bormi?
      </label>
      <input id="adminPriceDiscount" type="number" placeholder="Chegirma narxi (ixtiyoriy)"/>

      <input id="adminTag" type="text" placeholder="Tag â€” masalan, bestseller"/>
      <textarea id="adminDescription" placeholder="Tavsif..."></textarea>

      <input id="adminImages" type="text" placeholder="Rasmlar: url1, url2, url3"/>

      <button class="admin-btn" onclick="addCustomProduct()">ğŸ’¾ Mahsulotni saqlash</button>
    </div>

    <div id="adminCustomList"></div>
  </section>

  <!-- ADMIN: CATEGORY -->
  <section class="admin-section">
    <h3>ğŸ“‚ Kategoriyalar</h3>

    <div class="form">
      <input id="adminCatCode" type="text" placeholder="Kategoriya kodi (masalan: hair)"/>
      <input id="adminCatLabel" type="text" placeholder="Kategoriya nomi"/>
      <input id="adminCatEmoji" type="text" placeholder="Emoji (masalan: ğŸ’‡â€â™€ï¸)"/>

      <button onclick="saveCategory()">ğŸ’¾ Saqlash</button>
    </div>

    <div id="adminCategoryList"></div>
  </section>

  <!-- ADMIN: ORDERS -->
  <section class="admin-section">
    <h3>ğŸ“¦ Buyurtmalar</h3>
    <div id="adminOrdersList"></div>
  </section>

  <!-- ADMIN: COURIER PANEL -->
  <section class="admin-section">
    <h3>ğŸšš Kuryer xarita paneli</h3>
    <select id="courierOrderSelect"></select>

    <iframe id="courierMapFrame" style="width:100%;height:300px;border:0;margin-top:10px;"></iframe>

    <div id="courierInfo" class="courier-info"></div>

    <div class="btn-row">
      <button onclick="openSelectedCourierExternal()">ğŸ“ Marshrutni Google Mapsâ€™da ochish</button>
      <button onclick="centerToCourier()">ğŸ“Œ Mening joylashuvimdan marshrut</button>
    </div>
  </section>

  <!-- ADMIN: COURIER MANAGEMENT -->
  <section class="admin-section">
    <h3>ğŸš´â€â™‚ï¸ Kuryerlarni boshqarish</h3>

    <div class="form">
      <input id="adminCourierName" type="text" placeholder="Kuryer ismi"/>
      <input id="adminCourierPhone" type="text" placeholder="Telefon raqam"/>
      <input id="adminCourierCar" type="text" placeholder="Mashina modeli"/>
      <input id="adminCourierPlate" type="text" placeholder="Gos nomeri"/>
      <input id="adminCourierLogin" type="text" placeholder="Login"/>
      <input id="adminCourierPassword" type="text" placeholder="Parol"/>
      <button id="adminCourierSaveBtn">ğŸ’¾ Saqlash</button>
    </div>

    <div id="adminCourierList"></div>
  </section>

</main>



<!-- ====================== CART SHEET ====================== -->
<div id="cartSheet" class="cart-sheet">
  <h3>Savat</h3>

  <div id="cartItems"></div>

  <div class="cart-bottom">
    <div class="cart-total-row">
      <span>Jami:</span>
      <strong id="cartSheetTotal">0 soâ€˜m</strong>
    </div>

    <button class="btn-primary" onclick="sendOrder()">ğŸ“¦ Buyurtma berish</button>
    <button class="btn-secondary" onclick="toggleCartSheet(false)">Yopish</button>
  </div>
</div>



<!-- ================= PRODUCT DETAIL OVERLAY ================ -->
<div id="productDetailOverlay" class="detail-overlay hidden">

  <div class="detail-card">

    <div class="detail-img-wrap">
      <img id="detailImage" class="detail-main-img" />
      <div id="detailImageIndex" class="detail-img-index">1 / 1</div>

      <button id="detailPrevBtn" class="detail-nav prev">âŸ¨</button>
      <button id="detailNextBtn" class="detail-nav next">âŸ©</button>
    </div>

    <div class="detail-content">

      <div class="detail-cat" id="detailCategory"></div>
      <h2 id="detailName"></h2>
      <div id="detailTag" class="detail-tag"></div>
      <p id="detailDesc" class="detail-desc"></p>

      <div class="detail-price-row">
        <span id="detailPrice" class="detail-price"></span>
        <span id="detailOldPrice" class="detail-old hidden"></span>
      </div>

      <div class="qty-wrap">
        <button id="detailQtyMinus">-</button>
        <span id="detailQtyValue">1</span>
        <button id="detailQtyPlus">+</button>
      </div>

      <button id="detailAddBtn" class="detail-add-btn">ğŸ›’ Savatga qoâ€˜shish</button>
      <button id="detailBackBtn" class="detail-back-btn hidden">â—€ Magaziniga qaytish</button>

    </div>

  </div>
</div>



<!-- ================= CONFIRMATION MODAL ================= -->
<div id="confirmOverlay" class="confirm-overlay hidden">

  <div class="confirm-card">
    <h3>Buyurtma yetkazildimi?</h3>

    <div id="confirmOrderSummary"></div>
    <div id="confirmCourierInfo" class="confirm-courier"></div>

    <div id="problemBlock" class="hidden">
      <textarea id="problemReasonInput" placeholder="Muammo sababini yozing..."></textarea>
    </div>

    <div class="btn-row">
      <button id="btnConfirmYes" class="btn-primary">Ha, oldim</button>
      <button id="btnConfirmNo" class="btn-danger">Yoâ€˜q, kelmadi</button>
    </div>
  </div>

</div>


<!-- AUDIO -->
<audio id="notifySound" src="" preload="auto"></audio>

<!-- SCRIPT -->
<script type="module" src="app.js"></script>

</body>
</html>
